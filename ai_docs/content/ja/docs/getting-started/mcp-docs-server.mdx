---
title: "MCP ドキュメントサーバー | はじめに | Mastra ドキュメント"
description: "IDE で Mastra MCP ドキュメントサーバーを使い、IDE をエージェント型の Mastra エキスパートに変える方法を学びましょう。"
---

import YouTube from "@/components/youtube";
import { Tabs } from "nextra/components";


# Mastra Docs Server

`@mastra/mcp-docs-server` パッケージは、MCP プロトコル経由で Mastra のドキュメント、コード例、ブログ記事、変更履歴など、フルなナレッジベースへ直接アクセスできるようにします。Cursor、Windsurf、Cline、Claude Code をはじめ、MCP をサポートするあらゆるツールで動作します。

<YouTube id="vciV57lF0og" />

これらのツールは、エージェントに機能を追加する場合、新しいプロジェクトのスキャフォールディングを行う場合、あるいは仕組みを調べる場合などに、エージェントが正確かつタスクに特化した情報を取得できるよう設計されています。

## 仕組み

インストールが完了したら、プロンプトを書くだけで、エージェントはMastraについてすべてを理解している前提で動作します。

### 機能を追加する

- 「エージェントに eval を追加して、テストも作成して」
- 「`[task]` を実行するワークフローを書いて」
- 「エージェントが `[3rd party API]` にアクセスできる新しいツールを作って」

### 連携についての質問

- 「Mastra は AI SDK と連携できますか？
  `[React/Svelte/etc]` プロジェクトではどう使えばいいですか？」
- 「MCP に関する Mastra の最新情報はありますか？」
- 「Mastra は `[provider]` の音声・音声認識 API をサポートしていますか？ 自分のコードでの使用例を見せてもらえますか？」

### 既存のコードをデバッグまたは更新する

- 「エージェントのメモリでバグに遭遇しています。最近、関連する変更やバグ修正はありましたか？」
- 「Mastra のワーキングメモリはどのように振る舞い、`[task]` を行うにはどう使えばよいですか？ 想定どおりに動作していないようです。」
- 「新しいワークフロー機能を見ました。まず説明してから、`[workflow]` をそれらを使うように更新してください。」

**そのほか** - 質問がある場合は、IDE に聞いて調べてもらってください。

## 自動インストール

**新規**プロジェクトでは、インストール時に [対話型](/docs/getting-started/installation#interactive)セットアップのプロンプトから追加するか、[非対話型](/docs/getting-started/installation#non-interactive)コマンドで `-m` フラグを指定して追加できます。

## 手動インストール

既存のプロジェクトに MCP Docs Server を追加するには、手動でインストールします。

- **Cursor**: プロジェクトのルートにある `.cursor/mcp.json`、またはグローバル設定の場合は `~/.cursor/mcp.json` を編集します
- **Windsurf**: `~/.codeium/windsurf/mcp_config.json` を編集します（グローバル設定のみ対応）
- **VSCode**: 作成された `.vscode` フォルダをワークスペースの最上位に移動するか、そのフォルダを新しいワークスペースのルートとして開きます。プロジェクトのルートにある `~/.vscode/mcp.json` を編集し、以下の設定を追加します:
- **Claude Code**: 下記のとおり `claude mcp add` コマンドを実行します。

### MacOS/Linux

{/*
LLM コンテキスト: この Tabs コンポーネントは、MacOS/Linux 上の各種 IDE 向けの MCP サーバー設定を表示します。
各タブには、該当する IDE で Mastra MCP docs サーバーをセットアップするために必要な JSON 設定が示されています。
タブにより、ユーザーは自分の IDE（Cursor、Windsurf、VSCode）に合った設定形式を簡単に見つけられます。
各タブには、その IDE の MCP 設定に必要な正確な JSON 構造とファイルパスが記載されています。
*/}

<Tabs items={["Cursor", "Windsurf", "VSCode", "Claude Code"]}>
  <Tabs.Tab>
```json
{
  "mcpServers": {
    "mastra": {
      "command": "npx",
      "args": ["-y", "@mastra/mcp-docs-server"]
    }
  }
}
```
  </Tabs.Tab>
  <Tabs.Tab>
```json
{
  "mcpServers": {
    "mastra": {
      "command": "npx",
      "args": ["-y", "@mastra/mcp-docs-server"]
    }
  }
}
```
  </Tabs.Tab>
  <Tabs.Tab>
```json
{
  "servers": {
    "mastra": {
      "command": "npx",
      "args": ["-y", "@mastra/mcp-docs-server"],
      "type": "stdio"
    }
  }
}
```
  </Tabs.Tab>
  <Tabs.Tab>
```bash
claude mcp add mastra -- npx -y @mastra/mcp-docs-server
```
  </Tabs.Tab>
</Tabs>

### Windows

{/*
LLM コンテキスト: この Tabs コンポーネントは、Windows 上の複数の IDE 向け MCP サーバー設定を表示します。
各タブには、Mastra MCP docs サーバーをセットアップするために必要な Windows 固有の JSON 設定が示されています。
タブでは、Windows ユーザーが IDE に応じた正しい設定形式を見つけられるよう、直接の npx ではなく cmd を使う方法を提示します。
各タブは、その IDE の MCP 設定に必要な Windows 専用のコマンド構成を示します。
最新の Windsurf と Cursor では直接の npx コマンドが機能しますが、VSCode で修正済みかどうかは未確認です。
*/}

<Tabs items={["Cursor", "Windsurf", "VSCode", "Claude Code"]}>
  <Tabs.Tab>
```json
{
  "mcpServers": {
    "mastra": {
      "command": "npx",
      "args": ["-y", "@mastra/mcp-docs-server"]
    }
  }
}
```
  </Tabs.Tab>
  <Tabs.Tab>
```json
{
  "mcpServers": {
    "mastra": {
      "command": "npx",
      "args": ["-y", "@mastra/mcp-docs-server"]
    }
  }
}
```
  </Tabs.Tab>
  <Tabs.Tab>
```json
{
  "servers": {
    "mastra": {
      "command": "cmd",
      "args": ["/c", "npx", "-y", "@mastra/mcp-docs-server"],
      "type": "stdio"
    }
  }
}
```
  </Tabs.Tab>
  <Tabs.Tab>
```bash
claude mcp add mastra -- npx -y @mastra/mcp-docs-server
```
  </Tabs.Tab>
</Tabs>

## 設定後

### Cursor

自動インストールを行った場合は、左下の Cursor を開くと、Mastra Docs MCP Server を有効化するよう促すポップアップが表示されます。

<img
  src="/image/enable-mastra-docs-cursor.png"
  alt="Mastra Docs MCP Server を有効化するよう促す Cursor のプロンプトを示す図"
  width={800}
/>

手動インストールの場合は、次の手順を実行してください。

1. Cursor の設定を開きます。
2. MCP の設定に移動します。
3. Mastra MCP Server の「有効化」をクリックします。
4. すでにエージェントのチャットを開いている場合は、MCP Server を使うために、そのチャットを開き直すか新しいチャットを開始してください。

### Windsurf

1. Windsurf を完全に終了し、再度起動します。
2. ツール呼び出しが失敗し始めた場合は、Windsurf の MCP 設定から MCP サーバーを再起動してください。これは Windsurf の MCP でよくある問題で、Mastra とは無関係です。現時点では、Cursor の MCP 実装のほうが Windsurf より安定しています。

いずれの IDE でも、初回は npm からパッケージをダウンロードする必要があるため、MCP サーバーの起動に数分かかる場合があります。

### VSCode

1. VSCode の設定を開きます。
2. MCP の設定に移動します。
3. Chat > MCP のオプションで「有効化（enable）」をクリックします。

<img
  src="/image/vscode-mcp-setting.png"
  alt="VSCode の設定ページで MCP を有効化する"
  width={800}
  className="rounded-lg"
/>

MCP は VSCode の Agent モードでのみ動作します。Agent モードに入ったら、`mcp.json` ファイルを開き、「開始（start）」ボタンをクリックします。「開始（start）」ボタンは、`mcp.json` を含む `.vscode` フォルダーがワークスペースのルート、またはエディター内のファイルエクスプローラーの最上位にある場合にのみ表示されます。

<img
  src="/image/vscode-start-mcp.png"
  alt="VSCode で MCP を有効化する設定ページ"
  width={800}
  className="rounded-lg"
/>

MCP サーバーを起動したら、Copilot ペインの「ツール」ボタンをクリックして利用可能なツールを確認します。

<img
  src="/image/vscode-mcp-running.png"
  alt="利用可能なツールを確認するための VSCode のツールページ"
  width={800}
  className="rounded-lg"
/>

## 利用できるエージェントツール

### ドキュメント

Mastra のドキュメント一式へアクセス:

- はじめに / インストール
- ガイドとチュートリアル
- API リファレンス

### 例

コード例を閲覧:

- 完成済みのプロジェクト構成
- 実装パターン
- ベストプラクティス

### ブログ記事

ブログ内を検索:

- 技術関連の投稿
- 変更履歴と機能に関するお知らせ
- AIのニュースやアップデート

### パッケージの変更

Mastra および `@mastra/*` パッケージの更新内容を追跡:

- バグ修正
- 新機能
- 破壊的変更

## よくある問題

1. **サーバーが起動しない**

   - [npx](https://docs.npmjs.com/cli/v11/commands/npx) がインストールされ、正常に動作しているか確認してください。
   - 競合している MCP サーバーがないか確認してください。
   - 設定ファイルの文法を確認してください。
   - Windows の場合は、Windows 向けの設定を使用していることを確認してください。

2. **ツール呼び出しに失敗する**
   - MCP サーバーや IDE を再起動してください。
   - IDE を最新バージョンに更新してください。