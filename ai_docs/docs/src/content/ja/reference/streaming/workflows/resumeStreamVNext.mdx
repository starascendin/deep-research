---
title: "リファレンス: Run.resumeStreamVNext() | Workflows | Mastra ドキュメント"
description: ワークフローにおける `Run.resumeStreamVNext()` メソッドのドキュメント。中断されたワークフロー実行をリアルタイムに再開し、ストリーミングを有効にします。
---

import { StreamVNextCallout } from "@/components/streamVNext-callout.tsx"


# Run.resumeStreamVNext()（実験的）

<StreamVNextCallout />

`.resumeStreamVNext()` メソッドは、一時停止中のワークフロー実行を新しいデータで再開し、特定のステップから処理を続行するとともに、イベントストリームを観察できるようにします。

## 使い方の例

```typescript 行番号を表示 コピー
const run = await workflow.createRunAsync();

const stream = run.streamVNext({
  inputData: {
    value: "初期データ",
  },
});


const result = await stream.result;
if (result.status === "保留") {
  const resumedStream = await run.resumeStreamVNext({
    resumeData: { value: "再開データ" }
  });
}
```


## パラメータ

<PropertiesTable
  content={[
    {
      name: "resumeData",
      type: "z.infer<TInput>",
      description: "ワークフローの入力スキーマに適合する入力データ",
      isOptional: true,
    },
    {
      name: "runtimeContext",
      type: "RuntimeContext",
      description: "ワークフロー実行時に使用するランタイムコンテキストデータ",
      isOptional: true,
    },
    {
      name: "step",
      type: "Step<string, any, any, any, any, TEngineType>",
      description: "実行を再開する起点となるステップ",
      isOptional: true,
    },
  ]}
/>

## 戻り値

<PropertiesTable
  content={[
    {
      name: "stream",
      type: "MastraWorkflowStream<ChunkType>",
      description: "ReadableStream<ChunkType> を拡張し、ワークフロー特有のプロパティを追加したカスタムストリーム",
    },
    {
      name: "stream.status",
      type: "Promise<RunStatus>",
      description: "現在のワークフロー実行ステータスを返す Promise",
    },
    {
      name: "stream.result",
      type: "Promise<WorkflowResult<TState, TOutput, TSteps>>",
      description: "最終的なワークフロー結果を返す Promise",
    },
    {
      name: "stream.usage",
      type: "Promise<{ inputTokens: number; outputTokens: number; totalTokens: number, reasoningTokens?: number, cacheInputTokens?: number }>",
      description: "トークン使用状況の統計情報を返す Promise",
    },
  ]}
/>

## ストリームイベント

ストリームはワークフロー実行中にさまざまな種類のイベントを発行します。各イベントには `type` フィールドと、関連データを含む `payload` が含まれます:

- **`workflow-start`**: ワークフローの実行が開始される
- **`workflow-step-start`**: ステップの実行が開始される
- **`workflow-step-output`**: ステップからのカスタム出力
- **`workflow-step-result`**: ステップが結果とともに完了する
- **`workflow-finish`**: ワークフローの実行が使用状況の統計情報とともに完了する

## 関連

- [Workflows の概要](../../../docs/workflows/overview.mdx#run-workflow)
- [Workflow.createRunAsync()](../create-run.mdx)
- [Run.streamVNext()](./streamVNext.mdx)