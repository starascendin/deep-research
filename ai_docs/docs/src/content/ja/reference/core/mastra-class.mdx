---
title: "リファレンス: Mastra クラス | Core | Mastra ドキュメント"
description: "Mastra の `Mastra` クラスに関するドキュメント。エージェント、ワークフロー、MCP サーバー、サーバーエンドポイントを管理するための中核的なエントリポイントです。"
---

# Mastra クラス

`Mastra` クラスは、あらゆる Mastra アプリケーションにおける中核的なオーケストレーターで、エージェント、ワークフロー、ストレージ、ログ記録、テレメトリーなどを管理します。通常は、アプリケーション全体を統括するために `Mastra` のインスタンスを1つだけ作成します。

`Mastra` は最上位のレジストリと捉えてください。

- **integrations** を登録すると、**agents**、**workflows**、**tools** のいずれからでも利用できるようになります。
- **tools** は `Mastra` に直接登録するのではなく、エージェントに関連付けられ、自動的に検出されます。

## 使用例

```typescript filename="src/mastra/index.ts"
import { Mastra } from '@mastra/core/mastra';
import { PinoLogger } from '@mastra/loggers';
import { LibSQLStore } from '@mastra/libsql';
import { weatherWorkflow } from './workflows/weather-workflow';
import { weatherAgent } from './agents/weather-agent';

export const mastra = new Mastra({
  workflows: { weatherWorkflow },
  agents: { weatherAgent },
  storage: new LibSQLStore({
    url: ":memory:",
  }),
  logger: new PinoLogger({
    name: 'Mastra',
    level: 'info',
  }),
});
```

## コンストラクターのパラメーター

<PropertiesTable
  content={[
    {
      name: "agents",
      type: "Agent[]",
      description: "登録する Agent インスタンスの配列",
      isOptional: true,
      defaultValue: "[]",
    },
    {
      name: "tools",
      type: "Record<string, ToolApi>",
      description:
        "登録するカスタムツール。キーがツール名、値がツール関数のキーと値のペアとして構成されます。",
      isOptional: true,
      defaultValue: "{}",
    },
    {
      name: "storage",
      type: "MastraStorage",
      description: "データの永続化に使用するストレージエンジンのインスタンス",
      isOptional: true,
    },
    {
      name: "vectors",
      type: "Record<string, MastraVector>",
      description:
        "ベクトルストアのインスタンス。セマンティック検索やベクトルベースのツール（例：Pinecone、PgVector、Qdrant）に使用します。",
      isOptional: true,
    },
    {
      name: "logger",
      type: "Logger",
      description: "new PinoLogger() で作成された Logger インスタンス",
      isOptional: true,
      defaultValue: "INFO レベルのコンソールロガー",
    },
    {
      name: "idGenerator",
      type: "() => string",
      description: "カスタム ID 生成関数。エージェント、ワークフロー、メモリ、その他のコンポーネントで一意の識別子を生成するために使用します。",
      isOptional: true,
    },
    {
      name: "workflows",
      type: "Record<string, Workflow>",
      description:
        "登録するワークフロー。キーがワークフロー名、値がワークフローインスタンスのキーと値のペアとして構成されます。",
      isOptional: true,
      defaultValue: "{}",
    },
    {
      name: "tts",
      type: "Record<string, MastraTTS>",
      isOptional: true,
      description: "Text-To-Speech サービスを登録するためのオブジェクト。",
    },
    {
      name: "telemetry",
      type: "OtelConfig",
      isOptional: true,
      description: "OpenTelemetry 連携のための設定。",
    },
    {
      name: "deployer",
      type: "MastraDeployer",
      isOptional: true,
      description: "デプロイ管理のための MastraDeployer インスタンス。",
    },
    {
      name: "server",
      type: "ServerConfig",
      description:
        "ポート、ホスト、タイムアウト、API ルート、ミドルウェア、CORS 設定、さらに Swagger UI、API リクエストログ、OpenAPI ドキュメント用のビルドオプションを含むサーバー設定。",
      isOptional: true,
      defaultValue:
        "{ port: 4111, host: localhost,  cors: { origin: '*', allowMethods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'], allowHeaders: ['Content-Type', 'Authorization', 'x-mastra-client-type'], exposeHeaders: ['Content-Length', 'X-Requested-With'], credentials: false } }",
    },
    {
      name: "mcpServers",
      type: "Record<string, MCPServerBase>",
      isOptional: true,
      description:
        "キーが一意のサーバー識別子、値が MCPServer のインスタンスまたは MCPServerBase を拡張するクラスであるオブジェクト。これにより、Mastra がこれらの MCP サーバーを認識し、必要に応じて管理できるようになります。",
    },
    {
      name: "bundler",
      type: "BundlerConfig",
      description: "externals、sourcemap、transpilePackages のオプションを備えたアセットバンドラーの設定。",
      isOptional: true,
      defaultValue: "{ externals: [], sourcemap: false, transpilePackages: [] }",
    },
  ]}
/>